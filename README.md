# Parser
 Парсер для сбора информации об организациях в сфере табачной продукции. 
 Сайт для парсинга: https://www.moscowmap.ru

Класс Logger создан для вывода информации об состоянии парсера.

Суть парсера довольно проста: делается запрос на страницу с организациями и в ответе получаем HTML страницу.
С помощью bs4 находим теги с информацией об организации. Далее получаем ссылку на подробную информацию и, соответственно,
так же делаем запрос и находим нужные теги. Вся полученная информация закидывается в текстовый файл, а потом с помощью pandas
преобразовывается в csv файл.

Единственная существенная проблема, с которой я столкнулся — это запрашивание ввода капчи от сайта. 
Изначально пытался избежать возврата страницы с капчей с помощью задержек между запросами (time.sleep()), но это не помогало.
Помогла эта статья на хабре - https://habr.com/ru/company/ods/blog/346632/
Воспользовался первым способом обхода через Tor. Правда осталась та же проблема с блокировкой, несмотря на постоянное изменение IP.
Решил проблему теми же задержками: ловлю момент, когда IP попадает в блокировку и делаю задержку на 15 секунд. Делаю так пока не найдется нормальный IP.

